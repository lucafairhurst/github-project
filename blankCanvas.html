<!doctpye html>
<body>
<canvas id="gameCanvas" width= "800" height="800"></canvas>
    <script>
    
    var canvas, canvasContext;
        
        window.onload = function() {
            
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d')
            
            document.addEventListener('keydown', keyPressed);
            document.addEventListener('keyup', keyReleased);
            
            
            setInterval(mainloop, 1000 / 50)
        }
        
        
    
        // player
        var playerXpos = 380;
        var playerYpos = 750;
        const PLAYER_SIZE = 23;
        var  playerXspeed = 5;
        var  playerYspeed = 4;
        
        var leftkeyPressed = false;
        var rightkeyPressed = false;
        
        const LEFT_KEY = 37;
        const RIGHT_KEY = 39;
        
        // NPC
        var enemyXpos = 51;
        var enemyYpos = 50;
        var enemyXspeed = 5;
        var enemyYspeed = 20;
        const ENEMY_SIZE = 45; 
        
        var enemies = [];
        
        function makeEnemy(){
        const ENEMY_SIZE = 45; 
        var enemyXpos 
         
            var enemyXspeed = 5;
            var enemyYspeed = 5;
        }
        
        //bullet
        var bulletHeight = 30;
        var bulletWidth = 10;

        
        function mainloop() {
            colorRect(0,0, canvas.width, canvas.height,'black');
            colorRect(playerXpos, playerYpos, PLAYER_SIZE, PLAYER_SIZE, 'red');
            colorRect(enemyXpos, enemyYpos, ENEMY_SIZE, ENEMY_SIZE, 'blue');
//            colorRect(enemyXpos, enemyYpos, ENEMY_WIDTH, ENEMY_HEIGHT, 'blue');
            playerMove();
            enemyMove();
        }
        
        
        function keyPressed(evt) {
            if (evt.keyCode == LEFT_KEY) {//
                leftkeyPressed = true;
            }
            
            if (evt.keyCode == RIGHT_KEY) { //
                rightkeyPressed = true;
            }
        }
        
        function keyReleased(evt) {
            if (evt.keyCode == LEFT_KEY) { //
                leftkeyPressed = false;
            }
            
            if (evt.keyCode == RIGHT_KEY) { //
                rightkeyPressed = false;
            }
        }
        
         function playerMove() {
                if (rightkeyPressed && playerXpos + PLAYER_SIZE < canvas.width) {
                    playerXpos += playerXspeed;
                }
                if (leftkeyPressed) {
                    playerXpos -=  playerXspeed; }
                    if(playerXpos < 0 - PLAYER_SIZE){
                        playerXpos = canvas.width - PLAYER_SIZE; 
                    }
                }
         
             
        function colorRect(x,y,w,h,c) {
            canvasContext.fillStyle = c;
            canvasContext.fillRect(x,y,w,h);
            
        }
        

        
        function bulletHit(){
        if(enemyYpos + ENEMY_SIZE > playerYpos && enemyYpos < playerYpos + PLAYER_SIZE && ENEMY_SIZE > playerXpos && enemyXpos < playerXpos + PLAYER_SIZE){
            alert('you deaded');
            }     
        }
        
        function enemyMove(){
            enemyXpos += enemyXspeed;
            if(enemyXpos > canvas.width - (2 * ENEMY_SIZE)){
                enemyXspeed = -5;
            }
            if(enemyXpos < 51){
                enemyXspeed = 5;
            }
            if(enemyXpos > canvas.width - 50){
                enemyYpos += enemyYspeed;
            }
            if(enemyXpos < 51){
                enemyYpos += enemyYspeed;
            }
        }
        
        
        
    
    </script>
</body>